<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Predictor Access ¬∑ Login</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="head">
        <div class="brand">
          <div class="dot"></div>
          <div>
            <h1 id="brand">Predictor Access</h1>
            <div class="sub">Aviator ¬∑ Mines ¬∑ Penalty</div>
          </div>
        </div>
        <span class="pill">üîí Private</span>
      </div>

      <div class="body">
        <div class="row">
          <span class="pill">‚úàÔ∏è Aviator</span>
          <span class="pill">üí£ Mines</span>
        </div>
        <div class="row">
          <span class="pill">‚öΩ Penalty</span>
          <span class="pill">‚ö° Fast access</span>
        </div>

        <div class="stats">
          <div class="stat">
            <div class="k">–í —Å—É—Ç–∫–∏ –∏–≥—Ä–∞—é—Ç</div>
            <div class="v" id="dailyRange">‚Äî</div>
            <div class="s">–ü–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ</div>
          </div>

          <div class="stat" id="estCard" style="display:none">
            <div class="k">–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–µ–π—á–∞—Å</div>
            <div class="v" id="estNow">‚Äî</div>
            <div class="s">–û—Ü–µ–Ω–∫–∞, –Ω–µ real-time</div>
          </div>
        </div>

        <div class="field">
          <label>–õ–æ–≥–∏–Ω</label>
          <input id="login" placeholder="–í–∞—à –ª–æ–≥–∏–Ω" autocomplete="off" />
        </div>

        <div class="field">
          <label>–ü–∞—Ä–æ–ª—å</label>
          <input id="pass" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="off" />
        </div>

        <button class="btn" id="go">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
        <div class="msg error" id="msg"></div>

        <div class="note">
          <span>18+ ‚Ä¢ –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–∞—è –∏–≥—Ä–∞</span>
          <span>–ü–ª–∞—Ç–µ–∂–µ–π –Ω–∞ —Å–∞–π—Ç–µ –Ω–µ—Ç</span>
        </div>
      </div>
    </div>
  </div>

  <script src="./config.js"></script>
  <script>
    const A = window.APP;

    if (sessionStorage.getItem("authed") === "1") location.href = "./deposit.html";
    document.getElementById("brand").textContent = A.BRAND || "Predictor Access";

    // –ß–ï–°–¢–ù–´–ô –¥–∏–∞–ø–∞–∑–æ–Ω ‚Äú–≤ —Å—É—Ç–∫–∏‚Äù
    const min = Number(A.DAILY_PLAYERS_MIN || 930);
    const max = Number(A.DAILY_PLAYERS_MAX || 1100);
    document.getElementById("dailyRange").textContent =
      `${min.toLocaleString("ru-RU")}‚Äì${max.toLocaleString("ru-RU")}`;

    // –û—Ü–µ–Ω–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å–µ–π—á–∞—Å (–ù–ï real-time): –∞–∫–∫—É—Ä–∞—Ç–Ω–∞—è, –±–µ–∑ ‚Äú–æ–Ω–ª–∞–π–Ω‚Äù
    function clamp(x,a,b){ return Math.max(a, Math.min(b, x)); }
    function mulberry32(seed){
      return function(){
        seed |= 0; seed = seed + 0x6D2B79F5 | 0;
        let t = Math.imul(seed ^ seed >>> 15, 1 | seed);
        t ^= t + Math.imul(t ^ t >>> 7, 61 | t);
        return ((t ^ t >>> 14) >>> 0) / 4294967296;
      };
    }
    function estimateNow(){
      const now = new Date();
      const h = now.getHours() + now.getMinutes()/60;

      // –ü—Ä–æ—Ñ–∏–ª—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (—É—Å–ª–æ–≤–Ω—ã–π): –Ω–∏–∑–∫–æ –Ω–æ—á—å—é, –≤—ã—à–µ –≤–µ—á–µ—Ä–æ–º
      // (—ç—Ç–æ –Ω–µ ‚Äú—Ä–µ–∞–ª—å–Ω—ã–π –æ–Ω–ª–∞–π–Ω‚Äù, –∞ –æ—Ü–µ–Ω–∫–∞)
      const peak1 = Math.exp(-Math.pow((h - 13.5)/3.2, 2)); // –¥–Ω–µ–≤–Ω–æ–π –ø–∏–∫
      const peak2 = Math.exp(-Math.pow((h - 20.5)/3.0, 2)); // –≤–µ—á–µ—Ä–Ω–∏–π –ø–∏–∫
      let intensity = 0.12 + 0.55*peak1 + 0.75*peak2;      // 0..~1.4
      intensity = clamp(intensity, 0.10, 1.00);

      // –æ—Ü–µ–Ω–∏–≤–∞–µ–º –¥–æ–ª—é –∞–∫—Ç–∏–≤–Ω—ã—Ö –æ—Ç —Å—É—Ç–æ—á–Ω–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏: 4%..12%
      const activeShare = 0.04 + 0.08*intensity;

      // ‚Äú—Å–µ–≥–æ–¥–Ω—è—à–Ω—è—è –∞—É–¥–∏—Ç–æ—Ä–∏—è‚Äù –∫–∞–∫ —Å—Ä–µ–¥–Ω–µ–µ –∏–∑ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
      const dailyMid = (min + max)/2;

      // –Ω–µ–±–æ–ª—å—à–æ–π —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —à—É–º (–º–µ–Ω—è–µ—Ç—Å—è –ø–æ —á–∞—Å—É)
      const seed = now.getFullYear()*1000000 + (now.getMonth()+1)*10000 + now.getDate()*100 + now.getHours();
      const rnd = mulberry32(seed)();
      const jitter = 0.92 + rnd*0.16; // 0.92..1.08

      const est = Math.round(dailyMid * activeShare * jitter);
      return clamp(est, 15, Math.round(max*0.15));
    }

    if (A.SHOW_ACTIVITY_ESTIMATE) {
      document.getElementById("estCard").style.display = "block";
      const el = document.getElementById("estNow");
      const tick = () => { el.textContent = `~ ${estimateNow().toLocaleString("ru-RU")}`; };
      tick();
      setInterval(tick, 20000);
    }

    // –õ–æ–≥–∏–Ω
    const msg = document.getElementById("msg");
    const showErr = (t)=>{ msg.style.display="block"; msg.textContent=t; };

    document.getElementById("go").addEventListener("click", ()=>{
      const l = document.getElementById("login").value.trim();
      const p = document.getElementById("pass").value.trim();
      if(!l || !p) return showErr("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å.");
      if(l !== A.LOGIN || p !== A.PASS) return showErr("–ù–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–∞.");

      sessionStorage.setItem("authed","1");
      sessionStorage.setItem("user", l);
      location.href = "./deposit.html";
    });
  </script>
</body>
</html>
